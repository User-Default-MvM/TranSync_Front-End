# Static assets - serve directly without redirect (must be before SPA fallback)
# JavaScript files - IMPORTANT: These must be before SPA fallback
/static/js/*    /static/js/:splat    200
/static/css/*   /static/css/:splat   200
/assets/*   /assets/:splat   200

# Redirect admin static files to correct locations (IMPORTANT: Before SPA fallback)
# When accessing /admin/* routes, browser tries to load assets from /admin/static/ but they are in /static/
/admin/static/js/*    /static/js/:splat    200
/admin/static/css/*   /static/css/:splat   200

# Handle chunks with admin basename - redirect to correct static location
/admin/static/js/*.chunk.js    /static/js/:splat    200

# Dynamic chunks with hash - serve JavaScript files correctly (IMPORTANT: Before SPA fallback)
/static/js/*.chunk.js    /static/js/:splat    200

# Admin JavaScript files - REMOVED: chunks are served from /static/js/ not /admin/static/js/

# Critical static files - serve directly (IMPORTANT: Before SPA fallback)
/favicon.ico    /favicon.ico   200
/manifest.json  /manifest.json 200
/robots.txt /robots.txt 200
/sitemap.xml    /sitemap.xml   200

# API proxy to Railway backend (IMPORTANT: Before SPA fallback)
/api/*  https://transyncbackend-production.up.railway.app/:splat  200

# Critical static files - serve directly (IMPORTANT: Before SPA fallback)
/favicon.ico    /favicon.ico   200
/manifest.json  /manifest.json 200
/robots.txt /robots.txt 200
/sitemap.xml    /sitemap.xml   200

# Block access to sensitive files and invalid routes
/node_modules/*    404
/.git/* 404
/.env*  404

# SPA fallback - redirect only non-asset routes to index.html (must be last)
/*    /index.html   200